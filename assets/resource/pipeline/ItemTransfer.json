{
    "ItemTransferConfigLoader": {
        "doc": "åŠ è½½æ‰€æœ‰UIå¸ƒå±€å‚æ•°ï¼Œæ›¿ä»£ç¡¬ç¼–ç å¸¸é‡ã€‚æ•°å€¼å¯¹åº”1280x720åˆ†è¾¨ç‡ã€‚",
        "recognition": {
            "type": "Custom",
            "param": {
                "custom_recognition": "ConfigLoader",
                "custom_recognition_param": {
                    // å¯¹åº” var Repo...
                    "Repo": {
                        "FirstX": 161,
                        "FirstY": 217,
                        "Columns": 8
                    },
                    // å¯¹åº” var Backpack...
                    "Backpack": {
                        "FirstX": 771,
                        "FirstY": 217,
                        "Columns": 5,
                        "Rows": 7
                    },
                    // å¯¹åº” var BoxSize, ToolTip... ç­‰é€šç”¨ç½‘æ ¼å‚æ•°
                    "Grid": {
                        "RowsPerPage": 4,
                        "BoxSize": 64,
                        "GridInterval": 5,
                        "ToolTipCursorOffset": 32,
                        "TooltipRoiScaleX": 275,
                        "TooltipRoiScaleY": 130
                    },
                    // å¯¹åº” var ResetInv...
                    "Action": {
                        "ResetInvViewScrollDistance": 1200,
                        "ResetInvViewSwipeTimes": 5
                    }
                }
            }
        },
        // åŠ è½½å®Œé…ç½®åï¼Œè¿›å…¥åˆå§‹åŒ–åºåˆ—
        "next": [
            "ItemTransferMain"
        ]
    },
    "ItemTransferMain": {
        "doc": "ã€ä¸»å…¥å£ã€‘è°ƒåº¦ä¸­å¿ƒã€‚å¾ªç¯æ£€æµ‹å½“å‰æ˜¯åœ¨èµ·ç‚¹è¿˜æ˜¯ç»ˆç‚¹ï¼Œå¹¶åˆ†å‘ä»»åŠ¡ã€‚",
        "recognition": "DirectHit",
        "next": [
            "ItemTransferTaskSuccess",
            "ItemTransferAtOrigin",
            "[JumpBack]ItemTransferEnterRegionSwitcher",
            "ItemTransferClickOrigin"
        ]
    },
    "ItemTransferToBackpack": {
        "post_wait_freezes": 100,
        "recognition": {
            "type": "Custom",
            "param": {
                "custom_recognition": "LocateItemInRepository",
                "custom_recognition_param": {
                    "ItemName": "{ItemParName}",
                    "Category": "{CategoryParName}"
                }
            }
        },
        "action": {
            "type": "Custom",
            "param": {
                "custom_action": "SequenceAction",
                "custom_action_param": {
                    "sequence": [
                        "Action_Atom_KeyDown_Ctrl",
                        "Action_Atom_Click",
                        "Action_Atom_KeyUp_Ctrl"
                    ]
                }
            }
        },
        "next": [
            "[JumpBack]ItemTransferEnterRegionSwitcher",
            "ItemTransferClickDestination"
        ]
    },
    "ItemTransferEnterRegionSwitcher": {
        "doc": " è¿›å…¥ç‰©å“è½¬ç§»åŒºåŸŸåˆ‡æ¢ç•Œé¢ã€‚",
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    545,
                    97,
                    199,
                    87
                ],
                "template": "ItemTransfer/SwitcherEntry.png",
                "order_by": "Score"
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        }
    },
    "ItemTransferRegionSwitcherConfirm": {
        "post_wait_freezes": {
            "time": 200,
            "target": [
                153,
                548,
                969,
                64
            ]
        },
        "doc": "ç¡®è®¤åŒºåŸŸåˆ‡æ¢ã€‚",
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    905,
                    536,
                    219,
                    88
                ],
                "template": "ItemTransfer/Switcher.png",
                "order_by": "Score"
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        },
        "next": [
            "ItemTransferCloseRegionSwitcher"
        ]
    },
    "ItemTransferCloseRegionSwitcher": {
        "doc": "å…³é—­åŒºåŸŸåˆ‡æ¢ç•Œé¢ã€‚",
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    905,
                    536,
                    219,
                    88
                ],
                "template": "ItemTransfer/RepoConnected.png",
                "order_by": "Score"
            }
        },
        "action": {
            "type": "ClickKey",
            "param": {
                "key": 27
            }
        }
    },
    "ItemTransferClickDestination": {
        "doc": "ç‚¹å‡»ç›®æ ‡åŒºåŸŸã€‚",
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    500,
                    200,
                    500,
                    300
                ],
                "order_by": "Expected",
                "expected": "[PLACEHOLDER]"
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        },
        "next": [
            "[JumpBack]ItemTransferRegionSwitcherConfirm",
            "ItemTransferAtDestination",
            "ItemTransferClickDestination"
        ]
    },
    "ItemTransferClickOrigin": {
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    500,
                    200,
                    500,
                    300
                ],
                "order_by": "Expected",
                "expected": "[PLACEHOLDER]"
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        },
        "next": [
            "[JumpBack]ItemTransferRegionSwitcherConfirm",
            "ItemTransferAtOrigin"
        ]
    },
    "ItemTransferAtDestination": {
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    184,
                    102,
                    131,
                    71
                ],
                "order_by": "Expected",
                "expected": "[PLACEHOLDER]"
            }
        },
        "next": [
            "ItemTransferToRepository"
        ]
    },
    "ItemTransferAtOrigin": {
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    184,
                    102,
                    131,
                    71
                ],
                "order_by": "Expected",
                "expected": "[PLACEHOLDER]"
            }
        },
        "next": [
            "ItemTransferToBackpack"
        ]
    },
    "ItemTransferToRepository": {
        "post_wait_freezes": 10,
        "recognition": {
            "type": "Custom",
            "param": {
                "custom_recognition": "LocateItemInBackpack",
                "custom_recognition_param": {
                    "ItemName": "{ItemParName}",
                    "Category": "{CategoryParName}"
                }
            }
        },
        "action": {
            "type": "Custom",
            "param": {
                "custom_action": "SequenceAction",
                "custom_action_param": {
                    "sequence": [
                        "Action_Atom_KeyDown_Ctrl",
                        "Action_Atom_Click",
                        "Action_Atom_KeyUp_Ctrl"
                    ]
                }
            }
        },
        "next": [
            "ItemTransferLimitSentinel"
        ]
    },
    "ItemTransferLimitSentinel": {
        "doc": "å“¨å…µèŠ‚ç‚¹ï¼šæ£€æŸ¥æ˜¯å¦è¾¾åˆ°æ¬è¿æ¬¡æ•°ä¸Šé™ã€‚",
        // é€»è¾‘åˆ†æµ
        "next": [
            "ItemTransferTaskSuccess", // å‘½ä¸­(Hit) -> è¾¾åˆ°ä¸Šé™ -> æˆåŠŸç»“æŸ
            "[JumpBack]ItemTransferEnterRegionSwitcher", // æœªå‘½ä¸­(Miss) -> æ²¡å¤Ÿ -> å›ä¸»å¾ªç¯
            "ItemTransferClickOrigin"
        ]
    },
    "ItemTransferTaskSuccess": {
        "doc": "ä»»åŠ¡æˆåŠŸç»“æŸèŠ‚ç‚¹",
        "recognition": {
            "type": "Custom",
            "param": {
                "custom_recognition": "CheckTransferLimit", // è°ƒç”¨ Go çš„æ£€æŸ¥å‡½æ•°
                "custom_recognition_param": {
                    "MaxTimes": -3 // æ ¸å¿ƒï¼šé»˜è®¤æ˜¯è´Ÿæ•°ï¼Œä»£è¡¨â€œæ— æ•ˆ/æœªé…ç½®â€
                }
            }
        }
    },
    // --- åˆ‡æ¢åˆ°ï¼šç´ æ ---
    // === æ€»å…¥å£ï¼šåˆ‡æ¢åˆ°çŸ¿ç‰© ===
    "ItemTransferSwitchToMaterial": {
        "doc": "åˆ‡æ¢åˆ°çŸ¿ç‰©åˆ†ç±»ï¼ˆç»„åˆé€»è¾‘ï¼‰",
        "next": [
            "ItemTransferStatusMaterialSelected", // 1. å…ˆçœ‹æ˜¯ä¸æ˜¯å·²ç»é€‰ä¸­äº†
            "ItemTransferActionSwitchToMaterial" // 2. æ²¡é€‰ä¸­å°±æ‰¾ç°è‰²å›¾æ ‡ç‚¹ä¸€ä¸‹
        ]
    },
    // å­èŠ‚ç‚¹ 1ï¼šæ£€æŸ¥æ˜¯å¦å·²é€‰ä¸­ (é«˜äº®å›¾æ ‡)
    "ItemTransferStatusMaterialSelected": {
        "doc": "æ£€æŸ¥çŸ¿ç‰©æ˜¯å¦å·²é«˜äº®ï¼Œå¦‚æœæ˜¯åˆ™è·³è¿‡åç»­",
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "template": "ItemTransfer/SelectedMaterialIcon.png", // é«˜äº®å›¾æ ‡
                "roi": [
                    261,
                    167,
                    400,
                    41
                ],
                "threshold": 0.8
            }
        },
        "action": "DoNothing" // è¯†åˆ«åˆ°äº†è¯´æ˜å·²ç»åœ¨è¯¥é¡µé¢ï¼Œå•¥éƒ½ä¸ç”¨å¹²
    },
    // å­èŠ‚ç‚¹ 2ï¼šæ‰§è¡Œåˆ‡æ¢ (ç°è‰²å›¾æ ‡)
    "ItemTransferActionSwitchToMaterial": {
        "doc": "è¯†åˆ«ç°è‰²çŸ¿ç‰©å›¾æ ‡å¹¶ç‚¹å‡»",
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "template": "ItemTransfer/MaterialIcon.png", // ç°è‰²å›¾æ ‡
                "roi": [
                    261,
                    167,
                    400,
                    41
                ],
                "threshold": 0.8
            }
        },
        "action": "Click",
        "post_wait_freezes": 100 // ç‚¹å‡»åç­‰UIåˆ·æ–°
    },
    // --- åˆ‡æ¢åˆ°ï¼šæ¤ç‰© ---
    // === æ€»å…¥å£ï¼šåˆ‡æ¢åˆ°æ¤ç‰© ===
    "ItemTransferSwitchToPlant": {
        "doc": "åˆ‡æ¢åˆ°æ¤ç‰©åˆ†ç±»ï¼ˆç»„åˆé€»è¾‘ï¼‰",
        "next": [
            "ItemTransferStatusPlantSelected",
            "ItemTransferActionSwitchToPlant"
        ]
    },
    "ItemTransferStatusPlantSelected": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "template": "ItemTransfer/SelectedPlantIcon.png",
                "roi": [
                    261,
                    167,
                    400,
                    41
                ],
                "threshold": 0.8
            }
        },
        "action": "DoNothing"
    },
    "ItemTransferActionSwitchToPlant": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "template": "ItemTransfer/PlantIcon.png",
                "roi": [
                    261,
                    167,
                    400,
                    41
                ],
                "threshold": 0.8
            }
        },
        "action": "Click",
        "post_wait_freezes": 100
    },
    // --- åˆ‡æ¢åˆ°ï¼šäº§ç‰© ---
    // === æ€»å…¥å£ï¼šåˆ‡æ¢åˆ°äº§ç‰© ===
    "ItemTransferSwitchToProduct": {
        "doc": "åˆ‡æ¢åˆ°äº§ç‰©åˆ†ç±»ï¼ˆç»„åˆé€»è¾‘ï¼‰",
        "next": [
            "ItemTransferStatusProductSelected",
            "ItemTransferActionSwitchToProduct"
        ]
    },
    "ItemTransferStatusProductSelected": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "template": "ItemTransfer/SelectedProductIcon.png",
                "roi": [
                    261,
                    167,
                    400,
                    41
                ],
                "threshold": 0.8
            }
        },
        "action": "DoNothing"
    },
    "ItemTransferActionSwitchToProduct": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "template": "ItemTransfer/ProductIcon.png",
                "roi": [
                    261,
                    167,
                    400,
                    41
                ],
                "threshold": 0.8
            }
        },
        "action": "Click",
        "post_wait_freezes": 100
    },
    "Action_Atom_KeyDown_Ctrl": {
        "action": {
            "param": {
                "key": 17
            },
            "type": "KeyDown"
        }
    },
    "Action_Atom_Click": {
        "action": "Click",
        "post_wait_freezes": 10
    },
    "Action_Atom_KeyUp_Ctrl": {
        "action": {
            "param": {
                "key": 17
            },
            "type": "KeyUp"
        }
    },
    "Action_Hover_Item": {
        "doc": "ç‰©å“äº¤äº’åŠ¨ä½œï¼šPCç«¯é»˜è®¤æ‚¬åœä»¥æ˜¾ç¤ºTooltip",
        "action": {
            "type": "Swipe",
            "param": {
                "only_hover": true,
                "duration": 200 // ç¨å¾®åœé¡¿ä¸€ä¸‹
            }
        },
        "post_wait_freezes": 10
    },
    // ğŸ”¥ æ–°å¢ï¼šé€šç”¨ OCR è¯†åˆ«èŠ‚ç‚¹
    // è¿™ä¸ªèŠ‚ç‚¹ä¸“é—¨ç»™ Go ä»£ç åŠ¨æ€è°ƒç”¨ä½¿ç”¨
    "ItemTransferOCR": {
        "recognition": {
            "type": "OCR",
            "param": {
                "order_by": "Expected",
                // expected å’Œ roi æˆ‘ä»¬ä¼šåœ¨ Go ä»£ç é‡ŒåŠ¨æ€è¦†ç›–
                "expected": []
            }
        }
    }
}