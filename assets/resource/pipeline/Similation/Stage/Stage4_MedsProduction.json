{
    "TestStage4": {
        "next": [
            "[JumpBack]ChangeToAIC_Mode",
            "ExitSimilation",
            "[JumpBack]ClickAnywhereToContinue_General",
            "[JumpBack]HandleTutorialGuide_RightUp_General",
            "[JumpBack]HandleTutorialGuide_LeftUp_General",
            "[JumpBack]EnterTopView",
            "[JumpBack]CloseTips",
            "[JumpBack]NeedSkip",
            "[JumpBack]Confirm",
            "[JumpBack]Stage_4_Mission_1",
            "[JumpBack]Stage_4_Extra_Mission",
            "[JumpBack]WaitLoadingText",
            "[JumpBack]StartSimilation",
            "[JumpBack]WaitStage_4_Complete",
            "[JumpBack]CompleteSimilation"
        ]
    },
    "Stage_4_MedsProduction": {
        //药品产线模拟空间       
        "timeout": 60000,
        "max_hit": 1,
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    17,
                    8,
                    266,
                    688
                ],
                "expected": "药品产线"
            }
        },
        "next": [
            "Stage_4_IsComplete",
            "Stage_4_NotComplete"
        ]
    },
    "Stage_4_NotComplete": {
        "focus": {
            "Node.Recognition.Succeeded": "进入药品产线模拟空间"
        },
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    17,
                    8,
                    266,
                    688
                ],
                "expected": "药品产线"
            }
        },
        "action": {
            "type": "Click"
        },
        "next": [
            "[JumpBack]ChangeToAIC_Mode",
            "[JumpBack]CompleteSimilation",
            "ExitSimilation",
            "[JumpBack]ClickAnywhereToContinue_General",
            "[JumpBack]HandleTutorialGuide_RightUp_General",
            "[JumpBack]HandleTutorialGuide_LeftUp_General",
            "[JumpBack]EnterTopView",
            "[JumpBack]CloseTips",
            "[JumpBack]NeedSkip",
            "[JumpBack]Confirm",
            "[JumpBack]WaitLoadingText",
            "[JumpBack]StartSimilation"
        ]
    },
    "Stage_4_IsComplete": {
        "focus": {
            "Node.Recognition.Succeeded": "药品产线模拟已完成"
        },
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": "Stage_4_MedsProduction",
                "roi_offset": [
                    -20,
                    -3,
                    20,
                    5
                ],
                "template": [
                    "Similation/SimilationComplete_Selected.png",
                    "Similation/SimilationComplete_Unselect.png"
                ]
            }
        }
    },
    "Stage_4_Extra_Mission": {
        //药品产线模拟空间-奖励目标:晶体外壳粉末产线
        "max_hit": 1,
        "recognition": {
            "type": "And",
            "param": {
                "all_of": [
                    {
                        "recognition": {
                            "type": "OCR",
                            "param": {
                                "roi": [
                                    513,
                                    30,
                                    117,
                                    72
                                ],
                                "expected": "^退出俯(瞰)$"
                            }
                        }
                    },
                    {
                        "recognition": {
                            "type": "TemplateMatch",
                            "param": {
                                "roi": [
                                    0,
                                    140,
                                    278,
                                    279
                                ],
                                "template": "Similation/CompleteSimilation.png"
                            }
                        }
                    },
                    {
                        "sub_name": "_ExtraMission_Title",
                        "recognition": {
                            "type": "OCR",
                            "param": {
                                "roi": [
                                    0,
                                    0,
                                    406,
                                    400
                                ],
                                "expected": [
                                    "备一批晶体外壳粉末"
                                ]
                            }
                        }
                    },
                    {
                        "recognition": {
                            "type": "TemplateMatch",
                            "param": {
                                "roi": "_ExtraMission_Title",
                                "roi_offset": [
                                    -59,
                                    -22,
                                    -75,
                                    19
                                ],
                                "template": [
                                    "Similation/SimilationMissionUncomplete.png"
                                ]
                            }
                        }
                    }
                ]
            }
        },
        "next": [
            "Stage_4_ExtraFindPAC",
            "[JumpBack]Stage_4_TopViewUp"
        ]
    },
    "Stage_4_ExtraFindPAC": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    384,
                    77,
                    501,
                    197
                ],
                "template": [
                    "Similation/PAC.png"
                ]
            }
        },
        "next": [
            "Stage_4_FindRefiningUnit",
            "[JumpBack]Stage_4_TopViewLeft"
        ]
    },
    "Stage_4_FindRefiningUnit": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    579,
                    77,
                    317,
                    428
                ],
                "template": [
                    "Similation/RefiningUnit.png"
                ]
            }
        },
        "next": [
            "[JumpBack]Stage_4_DestroyBelt",
            "[JumpBack]Stage_4_SelectShreddingUnit",
            "Stage_4_Extra_Mission_Link"
        ]
    },
    "Stage_4_Extra_Mission_Link": {
        //连线
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    401,
                    0,
                    879,
                    538
                ],
                "template": [
                    "Similation/RefiningUnit.png"
                ]
            }
        },
        "next": [
            "[JumpBack]OpenBelt",
            "Stage_4_Extra_Mission_Link_1"
        ]
    },
    "Stage_4_Extra_Mission_Link_1": {
        //连接精炼炉到粉碎机
        "max_hit": 1,
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    401,
                    0,
                    879,
                    538
                ],
                "template": [
                    "Similation/RefiningUnit.png"
                ]
            }
        },
        "action": {
            "type": "Click"
        },
        "next": [
            "Stage_4_Extra_Mission_Link_2"
        ]
    },
    "Stage_4_Extra_Mission_Link_2": {
        //连接到粉碎机,并且重复点击将粉碎机连接回PAC
        "repeat": 2,
        "repeat_delay": 1000,
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    401,
                    0,
                    879,
                    538
                ],
                "template": [
                    "Similation/ShreddingUnit.png"
                ]
            }
        },
        "action": {
            "type": "Click"
        },
        "next": [
            "Stage_4_Extra_Mission_Link_3"
        ]
    },
    "Stage_4_Extra_Mission_Link_3": {
        //连接到PAC
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    401,
                    0,
                    879,
                    538
                ],
                "template": [
                    "Similation/PAC.png"
                ]
            }
        },
        "action": {
            "type": "Click",
            "param": {
                "target_offset": [
                    0,
                    100,
                    0,
                    0
                ]
            }
        },
        "next": [
            "CloseAIC_Edit"
        ]
    },
    "Stage_4_SelectShreddingUnit": {
        //选择粉碎机
        "max_hit": 1,
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    47,
                    599,
                    433,
                    65
                ],
                "expected": [
                    "粉碎机"
                ]
            }
        },
        "action": {
            "type": "Click"
        },
        "next": [
            "Stage_4_DropShreddingUnit"
        ]
    },
    "Stage_4_DropShreddingUnit": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    579,
                    77,
                    317,
                    428
                ],
                "template": [
                    "Similation/RefiningUnit.png"
                ]
            }
        },
        "action": {
            "type": "Click",
            "param": {
                "target_offset": [
                    40,
                    200,
                    -14,
                    -15
                ]
            }
        }
    },
    "Stage_4_DestroyBelt": {
        //拆除旧的生产线
        "max_hit": 1,
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    379,
                    157,
                    635,
                    371
                ],
                "template": [
                    "Similation/Stage_4_Item.png"
                ]
            }
        },
        "action": {
            "type": "Click"
        },
        "next": [
            "Stage_4_DestroyAllBelt"
        ]
    },
    "Stage_4_DestroyAllBelt": {
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    763,
                    132,
                    244,
                    127
                ],
                "expected": [
                    "收纳整条产线"
                ]
            }
        },
        "action": {
            "type": "Click"
        }
    },
    "Stage_4_Mission_1": {
        //药品产线模拟空间-任务1:点击协议核心取货口
        //实际上这个任务包含了任务1和任务2
        //点击出货口更改产物和连接生产线
        "max_hit": 1,
        "recognition": {
            "type": "And",
            "param": {
                "all_of": [
                    {
                        "recognition": {
                            "type": "OCR",
                            "param": {
                                "roi": [
                                    513,
                                    30,
                                    117,
                                    72
                                ],
                                "expected": "^退出俯(瞰)$"
                            }
                        }
                    },
                    {
                        "sub_name": "_Stage_4_Mission_1_Title",
                        "recognition": {
                            "type": "OCR",
                            "param": {
                                "roi": [
                                    0,
                                    44,
                                    459,
                                    314
                                ],
                                "expected": [
                                    "以生产荞花粉末"
                                ]
                            }
                        }
                    },
                    {
                        "recognition": {
                            "type": "TemplateMatch",
                            "param": {
                                "roi": "_Stage_4_Mission_1_Title",
                                "roi_offset": [
                                    -46,
                                    -18,
                                    -60,
                                    18
                                ],
                                "template": [
                                    "Similation/SimilationMissionUncomplete.png"
                                ]
                            }
                        }
                    }
                ]
            }
        },
        "next": [
            //这是任务1中特殊设置,他需要重新进入俯瞰模式
            "[JumpBack]ChangeToAIC_Mode",
            "[JumpBack]ClickAnywhereToContinue_General",
            "[JumpBack]HandleTutorialGuide_RightUp_General",
            "[JumpBack]HandleTutorialGuide_LeftUp_General",
            "[JumpBack]EnterTopView",
            "[JumpBack]CloseTips",
            "[JumpBack]NeedSkip",
            "[JumpBack]Confirm",
            //
            "[JumpBack]Stage_4_Mission_1_Find_PAC",
            "[JumpBack]Stage_4_Mission_1_Link",
            "Stage_4_Mission_1_LinkBack",
            "[JumpBack]Stage_4_TopViewUp",
            "SwipeError"
        ]
    },
    "Stage_4_Mission_1_LinkBack": {
        //第二道传送带:粉碎机到协议核心
        "max_hit": 1,
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    383,
                    78,
                    503,
                    423
                ],
                "template": [
                    "Similation/PAC.png"
                ]
            }
        },
        "next": [
            "[JumpBack]OpenBelt",
            "Stage_4_Mission_1_StartBackLink"
        ]
    },
    "Stage_4_Mission_1_StartBackLink": {
        "max_hit": 1,
        //点击粉碎机
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    776,
                    77,
                    411,
                    493
                ],
                "template": [
                    "Similation/ShreddingUnit.png"
                ]
            }
        },
        "action": {
            "type": "Click"
        },
        "next": [
            "Stage_4_Mission_1_CompleteBackLink"
        ]
    },
    "Stage_4_Mission_1_CompleteBackLink": {
        //点击协议核心 
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    383,
                    78,
                    503,
                    423
                ],
                "template": [
                    "Similation/PAC.png"
                ]
            }
        },
        "action": {
            "type": "Click",
            "param": {
                "target_offset": [
                    100,
                    0,
                    0,
                    0
                ]
            }
        }
    },
    "Stage_4_Mission_1_Link": {
        //第一道传送带:协议核心到粉碎机
        "max_hit": 1,
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    383,
                    78,
                    503,
                    423
                ],
                "template": [
                    "Similation/PAC.png"
                ]
            }
        },
        "next": [
            "[JumpBack]OpenBelt",
            "Stage_4_Mission_1_StartLink"
        ]
    },
    "Stage_4_Mission_1_StartLink": {
        "max_hit": 1,
        //点击协议核心
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    383,
                    78,
                    503,
                    423
                ],
                "template": [
                    "Similation/PAC.png"
                ]
            }
        },
        "action": {
            "type": "Click"
        },
        "next": [
            "Stage_4_Mission_1_CompleteLink"
        ]
    },
    "Stage_4_Mission_1_CompleteLink": {
        //点击粉碎机
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    776,
                    77,
                    411,
                    493
                ],
                "template": [
                    "Similation/ShreddingUnit.png"
                ]
            }
        },
        "action": {
            "type": "Click"
        },
        "next": [
            "[JumpBack]CloseTips",
            "CloseAIC_Edit"
        ]
    },
    "Wait_Stage_4_Mission_1_LinkComplete": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    776,
                    77,
                    411,
                    493
                ],
                "template": [
                    "Similation/ShreddingUnit.png"
                ]
            }
        },
        "next": [
            "Stage_4_Mission_1_Find_PAC"
        ]
    },
    "Stage_4_Mission_1_Find_PAC": {
        "recognition": {
            "type": "And",
            "param": {
                "all_of": [
                    {
                        "sub_name": "_Stage_4_Mission_1_Find_PAC_Title",
                        "recognition": {
                            "type": "TemplateMatch",
                            "param": {
                                "roi": [
                                    383,
                                    78,
                                    503,
                                    423
                                ],
                                "template": [
                                    "Similation/PAC.png"
                                ]
                            }
                        }
                    },
                    {
                        "recognition": {
                            "type": "ColorMatch",
                            "param": {
                                "roi": "_Stage_4_Mission_1_Find_PAC_Title",
                                "roi_offset": [
                                    186,
                                    62,
                                    38,
                                    144
                                ],
                                "upper": [
                                    255,
                                    255,
                                    10
                                ],
                                "lower": [
                                    232,
                                    218,
                                    0
                                ],
                                "connected": true,
                                "count": 10
                            }
                        }
                    }
                ],
                "box_index": 1
            }
        },
        "action": {
            "type": "Click"
        },
        "next": [
            "Stage_4_PAC_Complete",
            "[JumpBack]ClickAnywhereToContinue_General",
            "[JumpBack]HandleTutorialGuide_RightUp_General",
            "[JumpBack]HandleTutorialGuide_LeftUp_General"
        ]
    },
    "Stage_4_PAC_Complete": {
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    779,
                    115,
                    423,
                    119
                ],
                "expected": [
                    "请使用传送带连接协议核心取货口和粉碎机的输入口"
                ]
            }
        }
    },
    "Stage_4_TopViewUp": {
        "max_hit": 20,
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    513,
                    30,
                    117,
                    72
                ],
                "expected": "^退出俯(瞰)$"
            }
        },
        "action": {
            "type": "Swipe",
            "param": {
                "begin": [
                    640,
                    100
                ],
                "end": [
                    640,
                    150
                ],
                "duration": 100
            }
        }
    },
    "Stage_4_TopViewLeft": {
        "max_hit": 20,
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    513,
                    30,
                    117,
                    72
                ],
                "expected": "^退出俯(瞰)$"
            }
        },
        "action": {
            "type": "Swipe",
            "param": {
                "begin": [
                    550,
                    360
                ],
                "end": [
                    600,
                    360
                ],
                "duration": 100
            }
        }
    },
    "Stage_4_Mission_1_Complete": {
        "recognition": {
            "type": "And",
            "param": {
                "all_of": [
                    {
                        "sub_name": "_Stage_4_Mission_1_Title",
                        "recognition": {
                            "type": "OCR",
                            "param": {
                                "roi": [
                                    0,
                                    44,
                                    459,
                                    314
                                ],
                                "expected": [
                                    "以生产荞花粉末"
                                ]
                            }
                        }
                    },
                    {
                        "recognition": {
                            "type": "TemplateMatch",
                            "param": {
                                "roi": "_Stage_4_Mission_1_Title",
                                "roi_offset": [
                                    -46,
                                    -18,
                                    -60,
                                    18
                                ],
                                "template": [
                                    "Similation/SimilationMissionComplete.png"
                                ]
                            }
                        }
                    }
                ]
            }
        }
    },
    "WaitStage_4_Complete": {
        "max_hit": 100,
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    0,
                    80,
                    93,
                    248
                ],
                "template": [
                    "Similation/SimilationMissionUncomplete.png"
                ]
            }
        }
    }
}