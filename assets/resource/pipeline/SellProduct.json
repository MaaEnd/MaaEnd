{
    "SellProductMain": {
        "pre_delay": 0,
        "post_delay": 0,
        "doc": "脚本入口",
        "next": [
            "SellProductEntry"
        ]
    },
    "SellProductEntry": {
        "pre_delay": 0,
        "post_delay": 0,
        "doc": "虚拟入口节点：导航至地区建设界面",
        "next": [
            "SellProductAtDevelopment",
            "[JumpBack]SceneEnterMenuRegionalDevelopment"
        ],
        "post_wait_freezes": 200
    },
    "SellProductAtDevelopment": {
        "doc": "位于地区建设界面",
        "recognition": {
            "type": "And",
            "param": {
                "all_of": [
                    "InRegionalDevelopment"
                ]
            }
        },
        "pre_delay": 0,
        "post_delay": 0,
        "post_wait_freezes": 200,
        "next": [
            "SellProductEnterManagementLocked",
            "SellProductEnterOutpostManagement"
        ]
    },
    "SellProductEnterManagementLocked": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "template": [
                    "SellProduct/SellProductDevelopmentLocked.png"
                ],
                "roi": [
                    1178,
                    185,
                    35,
                    48
                ]
            }
        },
        "doc": "识别据点管理是否未解锁",
        "focus": {
            "Node.Recognition.Succeeded": "据点管理未解锁"
        },
        "next": [
            "SellProductRegionExitGate"
        ]
    },
    "SellProductEnterOutpostManagement": {
        "post_delay": 0,
        "doc": "位于地区建设，进入据点管理",
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    700,
                    100,
                    550,
                    500
                ],
                "expected": [
                    // 据点管理
                    "据点管理",
                    "據點管理",
                    "Outpost",
                    "outpost",
                    "拠点管理",
                    "거점 관리"
                ]
            }
        },
        "action": {
            "type": "Click"
        },
        "post_wait_freezes": 100,
        "next": [
            "WulingSwitchToSkyKingFlats",
            "ValleyIVSwitchToRefugeeCamp",
            "SellProductAtDevelopment"
        ]
    },
    "SellProductRegionExitGate": {
        "pre_delay": 0,
        "post_delay": 0,
        "doc": "虚拟出口节点：地区售卖完成，等待回到地区建设界面后路由至下一地区或结束",
        "recognition": {
            "type": "OCR",
            "param": {
                "expected": [
                    // 更换
                    "更换",
                    "更換",
                    "Switch",
                    "switch",
                    "変更",
                    "교체"
                ],
                "roi": [
                    0,
                    250,
                    250,
                    100
                ]
            }
        },
        "next": [
            "SellProductRegionEndCheck"
        ]
    },
    "SellProductRegionEndCheck": {
        "pre_delay": 0,
        "post_delay": 0,
        "doc": "检测是否抵达结束条件：未结束则切换下一地区，已结束则退出",
        "next": [
            "SellProductRegionCounter",
            "SellProductExit"
        ]
    },
    "SellProductRegionCounter": {
        "pre_delay": 0,
        "post_delay": 0,
        "max_hit": 1,
        "pre_wait_freezes": {
            "time": 300,
            "target": [
                54,
                77,
                230,
                252
            ]
        },
        "post_wait_freezes": {
            "time": 300,
            "target": [
                54,
                77,
                230,
                252
            ]
        },
        "focus": {
            "Node.Recognition.Succeeded": "当前区域任务已完成，正在前往下一区域"
        },
        "doc": "地区计数器：该节点 max_hit 为地区数-1",
        "next": [
            "SellProductRegionCounterRelay",
            "[JumpBack]SellProductRegionCloseRelay"
        ]
    },
    "SellProductRegionCloseRelay": {
        "pre_delay": 0,
        "post_delay": 0,
        "doc": "中继节点：在地区选择界面识别武陵或四号谷地后关闭",
        "recognition": {
            "type": "Or",
            "param": {
                "any_of": [
                    {
                        "recognition": {
                            "type": "OCR",
                            "param": {
                                "expected": [
                                    "天王坪",
                                    "天王坪援助",
                                    "天王坪援建",
                                    "Sky King",
                                    "天王原",
                                    "천왕"
                                ],
                                "roi": [
                                    146,
                                    64,
                                    166,
                                    34
                                ]
                            }
                        }
                    },
                    {
                        "recognition": {
                            "type": "OCR",
                            "param": {
                                "expected": [
                                    "难民暂居处",
                                    "難民暫居處",
                                    "Refugee Camp",
                                    "仮設居住地",
                                    "유랑자 임시 거주지"
                                ],
                                "roi": [
                                    146,
                                    64,
                                    166,
                                    34
                                ]
                            }
                        }
                    }
                ]
            }
        },
        "next": [
            "CloseButtonType1"
        ]
    },
    "SellProductRegionCounterRelay": {
        "pre_delay": 0,
        "post_delay": 0,
        "doc": "中继节点：确认在地区建设界面后切换下一地区",
        "recognition": {
            "type": "And",
            "param": {
                "all_of": [
                    "InRegionalDevelopment"
                ]
            }
        },
        "next": [
            "SellProductForthValley",
            "SellProductWuling"
        ]
    },
    "SellProductExit": {
        "pre_delay": 0,
        "post_delay": 0,
        "doc": "虚拟出口节点：售卖流程结束",
        "action": {
            "type": "ClickKey",
            "param": {
                "key": [
                    27
                ]
            }
        }
    }
}
